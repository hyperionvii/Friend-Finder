<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Find a Friend!</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="container">

    <div class="jumbotron">
      <h1 class="text-center"><span class="glyphicon glyphicon-user"></span> Friend Finder</h1>
      <hr>
      <h2 class="text-center">Find Friends!</h2>
      <br>

      <div class="text-center">
        <a href="/"><button type="button" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-home"></span></button></a>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">

        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title text-center"><strong>Survey</strong></h3>
          </div>
          <div class="panel-body">

          <form>
            <div class="form-group">
              <label class="form-control-label" for="formGroup">Full Name (required) </label>
              <input type="text" class="form-control" id="Name" placeholder="Sparkle Princess">
            </div>
          <div class="form-group">
            <label class="form-control-label" for="formGroupExampleInput2">Link to Image (required)</label>
            <input type="text" class="form-control" id="formGroupExampleInput2" placeholder="Don't Fret, You Look Awesome">
          </div>
        </form>

          <h3> <strong> Question 1 </strong> </h3>

          <h4> You are quick to jump to conclusions! </h4>
          <select data-question= "" class = "chosen-select" id = "q1">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          <h3> <strong> Question 2 </strong> </h3>

          <h4> You have a logical approach to everything you do. </h4>
          <select data-question= "" class = "chosen-select" id = "q2">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          <h3> <strong> Question 3 </strong> </h3>

          <h4> You are a day dreamer! </h4>
          <select data-question= "" class = "chosen-select" id = "q3">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          <h3> <strong> Question 4 </strong> </h3>

          <h4> You often imagine yourself exploring the galaxy. </h4>
          <select data-question= "" class = "chosen-select" id = "q4">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          <h3> <strong> Question 5 </strong> </h3>

          <h4> You love tea. (Especially hot tea. Earl Grey.) </h4>
          <select data-question= "" class = "chosen-select" id = "q5">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          <h3> <strong> Question 6 </strong> </h3>

          <h4> You are always the gentleman. </h4>
          <select data-question= "" class = "chosen-select" id = "q6">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          <h3> <strong> Question 7 </strong> </h3>

          <h4> You are a bit hot tempered. </h4>
          <select data-question= "" class = "chosen-select" id = "q7">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          <h3> <strong> Question 8 </strong> </h3>

          <h4> You have a nack for understanding people. </h4>
          <select data-question= "" class = "chosen-select" id = "q8">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          <h3> <strong> Question 9 </strong> </h3>

          <h4> You are just increadibly smart! </h4>
          <select data-question= "" class = "chosen-select" id = "q9">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          <h3> <strong> Question 10 </strong> </h3>

          <h4> You love the classics. </h4>
          <select data-question= "" class = "chosen-select" id = "q10">
            <option value="1"> 1 (strongly disagree) </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
            <option value="5"> 5 (strongly agree) </option>
          </select>

          </div>
        </div>
        
          <a class="btn btn-primary btn-lg btn-block submit" href="#" role="button"> Submit </a>

      </div>
    </div>


    <footer class="footer">
      <div class="container">
        <p><a href="/api/tables">API Table Link</a> | <a href="/api/waitlist">API Wait List</a> | <a href="https://github.com/afhaque/HotRestaurant">GitHub Repo</a></p>
      </div>
    </footer>

  </div>

</body>
</html>

<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">

    // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
    // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

    $(".submit").on("click", function(event) {
      event.preventDefault();

      // Here we grab the form elements
      var surveyResults = {
        Name: $("#name").val(),
        LinkToPicture: $("#linkToPicture").val(),
        surveyResults: [ $('#q1').val(), 
        $('#q2').val(),
        $('#q3').val(),
        $('#q4').val(),
        $('#q5').val(),
        $('#q6').val(),
        $('#q7').val(),
        $('#q8').val(),
        $('#q9').val(),
        $('#q10').val()
        ]
      };

      console.log(surveyResults);
  });

      // This line is the magic. It"s very similar to the standard ajax function we used.
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
      // depending on if a tables is available or not.

      $.post("/api/survey", newReservation,
        function(data) {

          //save the data so that you can 

    //       // If a table is available... tell user they are booked.
    //       if (data) {
    //         alert("Yay! You are officially booked!");
    //       }

    //       // If a table is available... tell user they on the waiting list.
    //       else {
    //         alert("Sorry you are on the wait list");
    //       }

    //     });

    // });

</script>
